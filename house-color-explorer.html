<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>House Color Explorer</title>
    <style>
        body {
            font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f8f6f3;
            color: #2c2a28;
        }
        
        .container {
            max-width: 1800px;
            margin: 0 auto;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: #2c2a28;
        }
        
        .subtitle {
            font-size: 1.1rem;
            color: #666;
        }
        
        .main-content {
            display: flex;
            gap: 40px;
            align-items: flex-start;
        }
        
        .controls-panel {
            flex: 0 0 400px;
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .control-group {
            margin-bottom: 30px;
        }
        
        .control-label {
            display: block;
            font-weight: 600;
            font-size: 1.1rem;
            margin-bottom: 8px;
            color: #2c2a28;
        }
        
        .color-selector {
            position: relative;
            width: 100%;
        }
        
        .color-selector input {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #e0ddd6;
            border-radius: 8px;
            font-size: 1rem;
            font-family: inherit;
            background: white;
            color: #2c2a28;
            cursor: text;
            transition: border-color 0.2s ease;
            box-sizing: border-box;
        }
        
        .color-selector input:hover {
            border-color: #54504A;
        }
        
        .color-selector input:focus {
            outline: none;
            border-color: #7A9192;
            box-shadow: 0 0 0 3px rgba(122, 145, 146, 0.1);
        }
        
        .color-dropdown {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 2px solid #e0ddd6;
            border-top: none;
            border-radius: 0 0 8px 8px;
            max-height: 200px;
            overflow-y: auto;
            z-index: 1000;
            display: none;
        }
        
        .color-dropdown.show {
            display: block;
        }
        
        .color-option {
            padding: 8px 16px;
            cursor: pointer;
            display: flex;
            align-items: center;
            transition: background-color 0.15s ease;
        }
        
        .color-option:hover,
        .color-option.highlighted {
            background-color: #f5f4f1;
        }
        
        .color-option-swatch {
            width: 20px;
            height: 20px;
            border-radius: 4px;
            border: 1px solid #e0ddd6;
            margin-right: 12px;
            flex-shrink: 0;
        }
        
        .color-option-text {
            font-size: 0.95rem;
            color: #2c2a28;
        }
        
        .color-preview {
            width: 40px;
            height: 40px;
            border-radius: 6px;
            border: 2px solid #e0ddd6;
            margin-left: 12px;
            display: inline-block;
            vertical-align: middle;
        }
        
        .house-display {
            flex: 1;
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        
        .house-svg {
            width: 100%;
            height: auto;
            max-width: 100%;
        }
        
        .button-group {
            display: flex;
            gap: 12px;
            margin-top: 20px;
        }
        
        .action-button {
            flex: 1;
            padding: 14px;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: background-color 0.2s ease;
        }
        
        .reset-button {
            background: #7A9192;
            color: white;
        }
        
        .reset-button:hover {
            background: #6F888A;
        }
        
        .random-button {
            background: #788D60;
            color: white;
        }
        
        .random-button:hover {
            background: #6B7D56;
        }
        
        @media (max-width: 1200px) {
            .main-content {
                flex-direction: column;
            }
            
            .controls-panel {
                flex: none;
                max-width: 600px;
                margin: 0 auto;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>House Color Explorer</h1>
            <p class="subtitle">Visualize different exterior color combinations in real-time</p>
        </div>
        
        <div class="main-content">
            <div class="controls-panel">
                <h2 style="margin-top: 0; margin-bottom: 30px; font-size: 1.4rem;">Color Controls</h2>
                
                <div class="control-group">
                    <label class="control-label" for="siding-input">Siding & Garage Door</label>
                    <div class="color-selector" id="siding-selector">
                        <input type="text" id="siding-input" placeholder="Search colors or type SW code..." value="SW 6186 Dried Thyme" autocomplete="off">
                        <div class="color-dropdown" id="siding-dropdown"></div>
                    </div>
                    <div class="color-preview" id="siding-preview" style="background-color: #7B8070;"></div>
                </div>
                
                <div class="control-group">
                    <label class="control-label" for="trim-input">Trim & Columns</label>
                    <div class="color-selector" id="trim-selector">
                        <input type="text" id="trim-input" placeholder="Search colors or type SW code..." value="SW 7048 Urbane Bronze" autocomplete="off">
                        <div class="color-dropdown" id="trim-dropdown"></div>
                    </div>
                    <div class="color-preview" id="trim-preview" style="background-color: #54504A;"></div>
                </div>
                
                <div class="control-group">
                    <label class="control-label" for="gable-input">Gables</label>
                    <div class="color-selector" id="gable-selector">
                        <input type="text" id="gable-input" placeholder="Search colors or type SW code..." value="SW 6187 Rosemary" autocomplete="off">
                        <div class="color-dropdown" id="gable-dropdown"></div>
                    </div>
                    <div class="color-preview" id="gable-preview" style="background-color: #64695C;"></div>
                </div>
                
                <div class="control-group">
                    <label class="control-label" for="door-input">Front Door</label>
                    <div class="color-selector" id="door-selector">
                        <input type="text" id="door-input" placeholder="Search colors or type SW code..." value="SW 6221 Moody Blue" autocomplete="off">
                        <div class="color-dropdown" id="door-dropdown"></div>
                    </div>
                    <div class="color-preview" id="door-preview" style="background-color: #7A9192;"></div>
                </div>
                
                <div class="button-group">
                    <button class="action-button reset-button" onclick="resetToDefaults()">Reset to Original</button>
                    <button class="action-button random-button" onclick="randomizeColors()">Random Colors</button>
                </div>
            </div>
            
            <div class="house-display">
                <div id="house-container"></div>
            </div>
        </div>
    </div>

    <script>
        // Color database
        const COLORS = [
            {hex: '#8AC6BD', name: 'SW 0075 Holiday Turquoise'},
            {hex: '#575449', name: 'SW 2846 Roycroft Bronze Green'},
            {hex: '#6D6C62', name: 'SW 6021 Thunderous'},
            {hex: '#B2AC96', name: 'SW 6164 Svelte Sage'},
            {hex: '#5E5949', name: 'SW 6167 Garden Gate'},
            {hex: '#7F8266', name: 'SW 6179 Artichoke'},
            {hex: '#BEBFB2', name: 'SW 6184 Austere Gray'},
            {hex: '#ABAC9F', name: 'SW 6185 Escape Gray'},
            {hex: '#7B8070', name: 'SW 6186 Dried Thyme'},
            {hex: '#64695C', name: 'SW 6187 Rosemary'},
            {hex: '#4E5147', name: 'SW 6188 Shade Grown'},
            {hex: '#C2CDC5', name: 'SW 6211 Rainwashed'},
            {hex: '#ADBBB2', name: 'SW 6212 Quietude'},
            {hex: '#9BAAA2', name: 'SW 6213 Halcyon Green'},
            {hex: '#7C8E87', name: 'SW 6215 Underseas'},
            {hex: '#5E706A', name: 'SW 6215 Rocky River'},
            {hex: '#343B36', name: 'SW 6216 Jasper'},
            {hex: '#ABBEBF', name: 'SW 6219 Rain'},
            {hex: '#9BAFB2', name: 'SW 6220 Krypton'},
            {hex: '#7A9192', name: 'SW 6221 Moody Blue'},
            {hex: '#5D7274', name: 'SW 6222 Riverway'},
            {hex: '#4A5D5F', name: 'SW 6223 Still Water'},
            {hex: '#626970', name: 'SW 6257 Gibraltar'},
            {hex: '#DAE2CD', name: 'SW 6435 Gratifying Green'},
            {hex: '#C5D1B2', name: 'SW 6436 Bonsai Tint'},
            {hex: '#A3B48C', name: 'SW 6437 Haven'},
            {hex: '#788D60', name: 'SW 6438 Dill'},
            {hex: '#60724F', name: 'SW 6439 Greenfield'},
            {hex: '#475842', name: 'SW 6440 Courtyard'},
            {hex: '#5E7F57', name: 'SW 6445 Garden Grove'},
            {hex: '#42603C', name: 'SW 6446 Arugula'},
            {hex: '#405840', name: 'SW 6447 Evergreens'},
            {hex: '#D3DFC3', name: 'SW 6722 Cucumber'},
            {hex: '#BDD0AB', name: 'SW 6723 Jardin'},
            {hex: '#9DB682', name: 'SW 6724 Mesclun Green'},
            {hex: '#85A16A', name: 'SW 6725 Pickle'},
            {hex: '#648149', name: 'SW 6726 Talipot Palm'},
            {hex: '#F3F2EE', name: 'SW 7006 Extra White'},
            {hex: '#4F4842', name: 'SW 7020 Black Fox'},
            {hex: '#54504A', name: 'SW 7048 Urbane Bronze'},
            {hex: '#AFA696', name: 'SW 7052 Gray Area'},
            {hex: '#867E70', name: 'SW 7053 Adaptive Shade'},
            {hex: '#645A4B', name: 'SW 7054 Oak Leaf Brown'},
            {hex: '#636562', name: 'SW 7068 Grizzle Gray'},
            {hex: '#616669', name: 'SW 7075 Web Gray'},
            {hex: '#57534C', name: 'SW 7645 Thunder Gray'},
            {hex: '#656D73', name: 'SW 7665 Wall Street'},
            {hex: '#9D986F', name: 'SW 7726 Lemon Verbena'},
            {hex: '#7FC3E1', name: 'SW 7726 Undercool'},
            {hex: '#A9C095', name: 'SW 9034 Seawashed Grass'},
            {hex: '#8FA277', name: 'SW 9039 Broccoflower'},
            {hex: '#75946B', name: 'SW 9040 Reseda Green'},
            {hex: '#427584', name: 'SW 9059 Silken Peacock'},
            {hex: '#95978A', name: 'SW 9130 Evergreen Fog'},
            {hex: '#8D9E97', name: 'SW 9133 Jasper Stone'},
            {hex: '#8B9FA0', name: 'SW 9134 Delft'},
            {hex: '#5E6259', name: 'SW 9143 Porpoise'}
        ];
        
        // Current color selections
        let currentColors = {
            siding: {hex: '#7B8070', name: 'SW 6186 Dried Thyme'},
            trim: {hex: '#54504A', name: 'SW 7048 Urbane Bronze'},
            gable: {hex: '#64695C', name: 'SW 6187 Rosemary'},
            door: {hex: '#7A9192', name: 'SW 6221 Moody Blue'}
        };
        
        // Two-story realistic house SVG with lap siding
        function loadHouseSVG() {
            const svgContent = `<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" width="900" height="700" viewBox="0 0 900 700" class="house-svg">
  <defs>
    <style><![CDATA[
      .siding { fill: var(--siding); stroke: #333; stroke-width: 1; }
      .trim { fill: var(--trim); stroke: #333; stroke-width: 1; }
      .gable { fill: var(--gable); stroke: #333; stroke-width: 1; }
      .door { fill: var(--door); stroke: #333; stroke-width: 1; }
      .roof { fill: #654321; stroke: #333; stroke-width: 1; }
      .window { fill: #B0E0E6; stroke: #333; stroke-width: 1; }
      .chimney { fill: #8B4513; stroke: #333; stroke-width: 1; }
      .ground { fill: #90EE90; }
      .sky { fill: #E6F3FF; }
      .foundation { fill: #A0A0A0; stroke: #333; stroke-width: 1; }
      .lap-siding { stroke: #333; stroke-width: 0.5; opacity: 0.3; }
    ]]></style>
  </defs>

  <!-- Sky background -->
  <rect class="sky" x="0" y="0" width="900" height="500"/>
  
  <!-- Ground -->
  <rect class="ground" x="0" y="500" width="900" height="200"/>
  
  <!-- Foundation -->
  <rect class="foundation" x="150" y="480" width="450" height="30"/>
  <rect class="foundation" x="600" y="450" width="200" height="60"/>
  
  <!-- Main house - First floor (siding) -->
  <rect class="siding" x="200" y="350" width="350" height="130"/>
  
  <!-- Main house - Second floor (siding) -->
  <rect class="siding" x="220" y="220" width="310" height="130"/>
  
  <!-- Garage (also siding) -->
  <rect class="siding" x="600" y="380" width="180" height="130"/>
  
  <!-- Main roof -->
  <polygon class="roof" points="180,220 375,120 570,220"/>
  
  <!-- Garage roof -->
  <polygon class="roof" points="580,380 690,300 820,380"/>
  
  <!-- Main gable (triangle filling roof area) -->
  <polygon class="gable" points="180,220 375,120 570,220"/>
  
  <!-- Garage gable (triangle filling garage roof area) -->
  <polygon class="gable" points="580,380 690,300 820,380"/>
  
  <!-- Chimney -->
  <rect class="chimney" x="320" y="80" width="25" height="60"/>
  
  <!-- Lap siding lines - First floor -->
  <g class="lap-siding">
    <line x1="200" y1="360" x2="550" y2="360" stroke-width="0.8"/>
    <line x1="200" y1="370" x2="550" y2="370" stroke-width="0.8"/>
    <line x1="200" y1="380" x2="550" y2="380" stroke-width="0.8"/>
    <line x1="200" y1="390" x2="550" y2="390" stroke-width="0.8"/>
    <line x1="200" y1="400" x2="550" y2="400" stroke-width="0.8"/>
    <line x1="200" y1="410" x2="550" y2="410" stroke-width="0.8"/>
    <line x1="200" y1="420" x2="550" y2="420" stroke-width="0.8"/>
    <line x1="200" y1="430" x2="550" y2="430" stroke-width="0.8"/>
    <line x1="200" y1="440" x2="550" y2="440" stroke-width="0.8"/>
    <line x1="200" y1="450" x2="550" y2="450" stroke-width="0.8"/>
    <line x1="200" y1="460" x2="550" y2="460" stroke-width="0.8"/>
    <line x1="200" y1="470" x2="550" y2="470" stroke-width="0.8"/>
  </g>
  
  <!-- Lap siding lines - Second floor -->
  <g class="lap-siding">
    <line x1="220" y1="230" x2="530" y2="230" stroke-width="0.8"/>
    <line x1="220" y1="240" x2="530" y2="240" stroke-width="0.8"/>
    <line x1="220" y1="250" x2="530" y2="250" stroke-width="0.8"/>
    <line x1="220" y1="260" x2="530" y2="260" stroke-width="0.8"/>
    <line x1="220" y1="270" x2="530" y2="270" stroke-width="0.8"/>
    <line x1="220" y1="280" x2="530" y2="280" stroke-width="0.8"/>
    <line x1="220" y1="290" x2="530" y2="290" stroke-width="0.8"/>
    <line x1="220" y1="300" x2="530" y2="300" stroke-width="0.8"/>
    <line x1="220" y1="310" x2="530" y2="310" stroke-width="0.8"/>
    <line x1="220" y1="320" x2="530" y2="320" stroke-width="0.8"/>
    <line x1="220" y1="330" x2="530" y2="330" stroke-width="0.8"/>
    <line x1="220" y1="340" x2="530" y2="340" stroke-width="0.8"/>
  </g>
  
  <!-- Lap siding lines - Garage -->
  <g class="lap-siding">
    <line x1="600" y1="390" x2="780" y2="390" stroke-width="0.8"/>
    <line x1="600" y1="400" x2="780" y2="400" stroke-width="0.8"/>
    <line x1="600" y1="410" x2="780" y2="410" stroke-width="0.8"/>
    <line x1="600" y1="420" x2="780" y2="420" stroke-width="0.8"/>
    <line x1="600" y1="430" x2="780" y2="430" stroke-width="0.8"/>
    <line x1="600" y1="440" x2="780" y2="440" stroke-width="0.8"/>
    <line x1="600" y1="450" x2="780" y2="450" stroke-width="0.8"/>
    <line x1="600" y1="460" x2="780" y2="460" stroke-width="0.8"/>
    <line x1="600" y1="470" x2="780" y2="470" stroke-width="0.8"/>
    <line x1="600" y1="480" x2="780" y2="480" stroke-width="0.8"/>
    <line x1="600" y1="490" x2="780" y2="490" stroke-width="0.8"/>
    <line x1="600" y1="500" x2="780" y2="500" stroke-width="0.8"/>
  </g>
  
  <!-- Windows - Second floor -->
  <rect class="window" x="240" y="240" width="45" height="60"/>
  <rect class="window" x="310" y="240" width="45" height="60"/>
  <rect class="window" x="380" y="240" width="45" height="60"/>
  <rect class="window" x="450" y="240" width="45" height="60"/>
  
  <!-- Windows - First floor -->
  <rect class="window" x="230" y="370" width="55" height="70"/>
  <rect class="window" x="320" y="370" width="55" height="70"/>
  <rect class="window" x="470" y="370" width="55" height="70"/>
  
  <!-- Window trim - Second floor -->
  <rect class="trim" x="235" y="235" width="55" height="6"/>
  <rect class="trim" x="235" y="305" width="55" height="6"/>
  <rect class="trim" x="235" y="235" width="6" height="76"/>
  <rect class="trim" x="284" y="235" width="6" height="76"/>
  
  <rect class="trim" x="305" y="235" width="55" height="6"/>
  <rect class="trim" x="305" y="305" width="55" height="6"/>
  <rect class="trim" x="305" y="235" width="6" height="76"/>
  <rect class="trim" x="354" y="235" width="6" height="76"/>
  
  <rect class="trim" x="375" y="235" width="55" height="6"/>
  <rect class="trim" x="375" y="305" width="55" height="6"/>
  <rect class="trim" x="375" y="235" width="6" height="76"/>
  <rect class="trim" x="424" y="235" width="6" height="76"/>
  
  <rect class="trim" x="445" y="235" width="55" height="6"/>
  <rect class="trim" x="445" y="305" width="55" height="6"/>
  <rect class="trim" x="445" y="235" width="6" height="76"/>
  <rect class="trim" x="494" y="235" width="6" height="76"/>
  
  <!-- Window trim - First floor -->
  <rect class="trim" x="225" y="365" width="65" height="8"/>
  <rect class="trim" x="225" y="447" width="65" height="8"/>
  <rect class="trim" x="225" y="365" width="8" height="90"/>
  <rect class="trim" x="282" y="365" width="8" height="90"/>
  
  <rect class="trim" x="315" y="365" width="65" height="8"/>
  <rect class="trim" x="315" y="447" width="65" height="8"/>
  <rect class="trim" x="315" y="365" width="8" height="90"/>
  <rect class="trim" x="372" y="365" width="8" height="90"/>
  
  <rect class="trim" x="465" y="365" width="65" height="8"/>
  <rect class="trim" x="465" y="447" width="65" height="8"/>
  <rect class="trim" x="465" y="365" width="8" height="90"/>
  <rect class="trim" x="522" y="365" width="8" height="90"/>
  
  <!-- Front door -->
  <rect class="door" x="410" y="410" width="50" height="80"/>
  <circle fill="#FFD700" cx="450" cy="450" r="3"/>
  
  <!-- Door trim -->
  <rect class="trim" x="405" y="405" width="60" height="8"/>
  <rect class="trim" x="405" y="492" width="60" height="8"/>
  <rect class="trim" x="405" y="405" width="8" height="95"/>
  <rect class="trim" x="457" y="405" width="8" height="95"/>
  
  <!-- Garage door (part of siding) -->
  <rect class="siding" x="620" y="450" width="140" height="60"/>
  <line stroke="#333" stroke-width="1" x1="620" y1="480" x2="760" y2="480"/>
  <line stroke="#333" stroke-width="1" x1="690" y1="450" x2="690" y2="510"/>
  
  <!-- Garage door trim -->
  <rect class="trim" x="615" y="445" width="150" height="8"/>
  <rect class="trim" x="615" y="512" width="150" height="8"/>
  <rect class="trim" x="615" y="445" width="8" height="75"/>
  <rect class="trim" x="757" y="445" width="8" height="75"/>
  
  <!-- Corner trim -->
  <rect class="trim" x="190" y="220" width="12" height="260"/>
  <rect class="trim" x="548" y="220" width="12" height="260"/>
  <rect class="trim" x="210" y="350" width="12" height="130"/>
  <rect class="trim" x="538" y="350" width="12" height="130"/>
  
  <!-- Front porch columns -->
  <rect class="trim" x="240" y="460" width="12" height="30"/>
  <rect class="trim" x="500" y="460" width="12" height="30"/>
  
  <!-- Story separator trim band (between 1st and 2nd floor) -->
  <rect class="trim" x="200" y="342" width="350" height="8"/>
</svg>`;
            
            document.getElementById('house-container').innerHTML = svgContent;
        }
        
        // Filter colors based on search query
        function filterColors(query) {
            if (!query) return COLORS;
            const searchQuery = query.toLowerCase();
            return COLORS.filter(color => 
                color.name.toLowerCase().includes(searchQuery)
            );
        }
        
        // Create dropdown options HTML
        function createDropdownOptions(colors, highlightIndex = -1) {
            return colors.map((color, index) => {
                const highlightClass = index === highlightIndex ? 'highlighted' : '';
                return `
                    <div class="color-option ${highlightClass}" data-hex="${color.hex}" data-name="${color.name}">
                        <div class="color-option-swatch" style="background-color: ${color.hex}"></div>
                        <div class="color-option-text">${color.name}</div>
                    </div>
                `;
            }).join('');
        }
        
        // Setup autocomplete for a selector
        function setupAutocomplete(selectorId, colorType) {
            const input = document.getElementById(`${selectorId}-input`);
            const dropdown = document.getElementById(`${selectorId}-dropdown`);
            let highlightIndex = -1;
            let filteredColors = [];
            
            // Show dropdown on focus
            input.addEventListener('focus', () => {
                filteredColors = filterColors(input.value);
                dropdown.innerHTML = createDropdownOptions(filteredColors);
                dropdown.classList.add('show');
                setupOptionClickHandlers(dropdown, selectorId, colorType);
            });
            
            // Filter on input
            input.addEventListener('input', () => {
                highlightIndex = -1;
                filteredColors = filterColors(input.value);
                dropdown.innerHTML = createDropdownOptions(filteredColors);
                dropdown.classList.add('show');
                setupOptionClickHandlers(dropdown, selectorId, colorType);
            });
            
            // Handle keyboard navigation
            input.addEventListener('keydown', (e) => {
                if (!dropdown.classList.contains('show')) return;
                
                switch(e.key) {
                    case 'ArrowDown':
                        e.preventDefault();
                        highlightIndex = Math.min(highlightIndex + 1, filteredColors.length - 1);
                        dropdown.innerHTML = createDropdownOptions(filteredColors, highlightIndex);
                        setupOptionClickHandlers(dropdown, selectorId, colorType);
                        break;
                    case 'ArrowUp':
                        e.preventDefault();
                        highlightIndex = Math.max(highlightIndex - 1, 0);
                        dropdown.innerHTML = createDropdownOptions(filteredColors, highlightIndex);
                        setupOptionClickHandlers(dropdown, selectorId, colorType);
                        break;
                    case 'Enter':
                        e.preventDefault();
                        if (highlightIndex >= 0 && highlightIndex < filteredColors.length) {
                            selectColor(selectorId, colorType, filteredColors[highlightIndex]);
                        }
                        dropdown.classList.remove('show');
                        break;
                    case 'Escape':
                        dropdown.classList.remove('show');
                        break;
                }
            });
            
            // Hide dropdown when clicking outside
            document.addEventListener('click', (e) => {
                if (!document.getElementById(`${selectorId}-selector`).contains(e.target)) {
                    dropdown.classList.remove('show');
                }
            });
        }
        
        // Setup click handlers for dropdown options
        function setupOptionClickHandlers(dropdown, selectorId, colorType) {
            dropdown.querySelectorAll('.color-option').forEach(option => {
                option.addEventListener('click', () => {
                    const color = {
                        hex: option.dataset.hex,
                        name: option.dataset.name
                    };
                    selectColor(selectorId, colorType, color);
                    dropdown.classList.remove('show');
                });
            });
        }
        
        // Select a color and update the display
        function selectColor(selectorId, colorType, color) {
            currentColors[colorType] = color;
            document.getElementById(`${selectorId}-input`).value = color.name;
            updateHouseColors();
        }
        
        // Update CSS variables when colors change
        function updateHouseColors() {
            const svg = document.querySelector('#house-container svg');
            
            if (svg) {
                // Update CSS variables on the SVG
                svg.style.setProperty('--siding', currentColors.siding.hex);
                svg.style.setProperty('--trim', currentColors.trim.hex);
                svg.style.setProperty('--gable', currentColors.gable.hex);
                svg.style.setProperty('--door', currentColors.door.hex);
                
                // Update preview boxes
                document.getElementById('siding-preview').style.backgroundColor = currentColors.siding.hex;
                document.getElementById('trim-preview').style.backgroundColor = currentColors.trim.hex;
                document.getElementById('gable-preview').style.backgroundColor = currentColors.gable.hex;
                document.getElementById('door-preview').style.backgroundColor = currentColors.door.hex;
            }
        }
        
        // Reset to original colors
        function resetToDefaults() {
            currentColors = {
                siding: {hex: '#7B8070', name: 'SW 6186 Dried Thyme'},
                trim: {hex: '#54504A', name: 'SW 7048 Urbane Bronze'},
                gable: {hex: '#64695C', name: 'SW 6187 Rosemary'},
                door: {hex: '#7A9192', name: 'SW 6221 Moody Blue'}
            };
            
            document.getElementById('siding-input').value = currentColors.siding.name;
            document.getElementById('trim-input').value = currentColors.trim.name;
            document.getElementById('gable-input').value = currentColors.gable.name;
            document.getElementById('door-input').value = currentColors.door.name;
            
            updateHouseColors();
        }
        
        // Generate random color combinations
        function randomizeColors() {
            // Get random colors for each area
            const randomSiding = COLORS[Math.floor(Math.random() * COLORS.length)];
            const randomTrim = COLORS[Math.floor(Math.random() * COLORS.length)];
            const randomGable = COLORS[Math.floor(Math.random() * COLORS.length)];
            const randomDoor = COLORS[Math.floor(Math.random() * COLORS.length)];
            
            currentColors = {
                siding: randomSiding,
                trim: randomTrim,
                gable: randomGable,
                door: randomDoor
            };
            
            document.getElementById('siding-input').value = currentColors.siding.name;
            document.getElementById('trim-input').value = currentColors.trim.name;
            document.getElementById('gable-input').value = currentColors.gable.name;
            document.getElementById('door-input').value = currentColors.door.name;
            
            updateHouseColors();
        }
        
        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            loadHouseSVG();
            
            // Setup autocomplete for each selector
            setupAutocomplete('siding', 'siding');
            setupAutocomplete('trim', 'trim');
            setupAutocomplete('gable', 'gable');
            setupAutocomplete('door', 'door');
            
            // Apply initial colors
            updateHouseColors();
        });
    </script>
</body>
</html>